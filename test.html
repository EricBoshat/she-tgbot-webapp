<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="status">Загрузка...</div>
    <button id="send" style="font-size:20px;padding:15px;">✅ Отправить тест</button>
    <script>
        // Проверяем, доступен ли Telegram.WebApp
        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            document.getElementById('status').innerText = '✅ Telegram.WebApp доступен';
        } else {
            document.getElementById('status').innerText = '❌ Telegram.WebApp НЕДОСТУПЕН';
        }

        document.getElementById('send').onclick = () => {
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                Telegram.WebApp.sendData(JSON.stringify({test: "ok"}));
                Telegram.WebApp.close();
            } else {
                alert('WebApp не доступен!');
            }
        };
    </script>
    <script>
  document.getElementById('send').onclick = () => {
    console.log("Кнопка нажата!");
    if (window.Telegram && Telegram.WebApp) {
      console.log("Отправляем данные...");
      Telegram.WebApp.sendData(JSON.stringify({test: "ok"}));
      Telegram.WebApp.close();
    } else {
      console.log("WebApp недоступен");
    }
  };
    </script>
</body>
</html>
